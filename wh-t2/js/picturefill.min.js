/*! Picturefill - v2.0.0 - 2014-04-15
* http://scottjehl.github.io/picturefill
* Copyright (c) 2014 https://github.com/scottjehl/picturefill/blob/master/Authors.txt; Licensed MIT */
window.matchMedia||(window.matchMedia=function(){"use strict";var a=window.styleMedia||window.media;if(!a){var b=document.createElement("style"),c=document.getElementsByTagName("script")[0],d=null;b.type="text/css",b.id="matchmediajs-test",c.parentNode.insertBefore(b,c),d="getComputedStyle"in window&&window.getComputedStyle(b,null)||b.currentStyle,a={matchMedium:function(a){var c="@media "+a+"{ #matchmediajs-test { width: 1px; } }";return b.styleSheet?b.styleSheet.cssText=c:b.textContent=c,"1px"===d.width}}}return function(b){return{matches:a.matchMedium(b||"all"),media:b||"all"}}}()),function(a,b){"use strict";function c(a){var b;a=a||{},b=a.elements||e.getAllElements();for(var c=0,d=b.length;d>c;c++){var f=b[c],g=f.nodeName;if(f[e.ns]||(f[e.ns]={}),a.reevaluate||!f[e.ns].evaluated){var h,i,j;if("PICTURE"===g){if(e.removeVideoShim(f),h=e.getMatch(f),h===!1)continue;j=f.getElementsByTagName("img")[0]}else j=f;j&&(j[e.ns]||(j[e.ns]={}),j.srcset&&e.dodgeSrcset(j),h?(i=e.processSourceSet(h),e.applyBestCandidate(i,j)):(i=e.processSourceSet(j),(void 0===j.srcset||j.hasAttribute("sizes"))&&e.applyBestCandidate(i,j)),f[e.ns].evaluated=!0)}}}function d(){c();var d=setInterval(function(){return a.picturefill(),/^loaded|^i|^c/.test(b.readyState)?void clearInterval(d):void 0},250);if(a.addEventListener){var e;a.addEventListener("resize",function(){a.clearTimeout(e),e=a.setTimeout(function(){c({reevaluate:!0})},60)},!1)}}if(!a.HTMLPictureElement){b.createElement("picture"),b.createElement("source");var e={};e.ns="picturefill",e.srcsetSupported=void 0!==(new a.Image).srcset,e.trim=function(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")},e.endsWith=function(a,b){return a.endsWith?a.endsWith(b):-1!==a.indexOf(b,a.length-b.length)},e.matchesMedia=function(b){return a.matchMedia&&a.matchMedia(b).matches},e.getDpr=function(){return a.devicePixelRatio||1},e.getWidthFromLength=function(a){return e.lengthEl||(e.lengthEl=b.createElement("div"),b.documentElement.insertBefore(e.lengthEl,b.documentElement.firstChild)),e.lengthEl.style.cssText="width: "+a+";",e.lengthEl.offsetWidth},e.types={},e.types["image/svg+xml"]=b.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),e.types["image/webp"]=function(){var b=new a.Image,d="image/webp";b.onerror=function(){e.types[d]=!1,c()},b.onload=function(){e.types[d]=1===b.width,c()},b.src="data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoBAAEAAwA0JaQAA3AA/vuUAAA="},e.verifyTypeSupport=function(a){var b=a.getAttribute("type");return null===b||""===b?!0:"function"==typeof e.types[b]?(e.types[b](),"pending"):e.types[b]},e.findWidthFromSourceSize=function(a){for(var b,c=e.trim(a).split(/\s*,\s*/),d=0,f=c.length;f>d;d++){var g=c[d],h=/(\([^)]+\))?\s*([^\s]+)/g.exec(g);if(h){var i,j=h[2];if(!h[1]){b=j;break}if(i=h[1],e.matchesMedia(i)){b=j;break}}}if(!b)return 300;var k=e.getWidthFromLength(b);return k},e.getCandidatesFromSourceSet=function(a,b){var c,d=e.trim(a).split(/\s*,\s*/),f=[];b&&(c=e.findWidthFromSourceSize(b));for(var g=0,h=d.length;h>g;g++){var i,j=d[g],k=j.split(/\s+/),l=k[1];!l||"w"!==l.slice(-1)&&"x"!==l.slice(-1)||(l=l.slice(0,-1)),i=b?parseFloat((parseInt(l,10)/c).toFixed(2)):l?parseFloat(l,10):e.getDpr();var m={url:k[0],resolution:i};f.push(m)}return f},e.dodgeSrcset=function(a){a.srcset&&(a[e.ns].srcset=a.srcset,a.removeAttribute("srcset"))},e.processSourceSet=function(a){var b=a.getAttribute("srcset"),c=a.getAttribute("sizes"),d=[];return"IMG"===a.nodeName&&a[e.ns]&&a[e.ns].srcset&&(b=a[e.ns].srcset),b&&(d=e.getCandidatesFromSourceSet(b,c)),d},e.applyBestCandidate=function(a,b){for(var c,d=a.sort(e.ascendingSort),f=0;f<d.length;f++)if(c=d[f],c.resolution>=e.getDpr()){e.endsWith(b.src,c.url)||(b.src=c.url,b.currentSrc=c.url);break}},e.ascendingSort=function(a,b){return a.resolution>b.resolution},e.removeVideoShim=function(a){var b=a.getElementsByTagName("video");if(b.length){for(var c=b[0],d=c.getElementsByTagName("source");d.length;)a.insertBefore(d[0],c);c.parentNode.removeChild(c)}},e.getAllElements=function(){var a=b.getElementsByTagName("picture");if(e.srcsetSupported)return a;for(var c=[],d=b.getElementsByTagName("img"),f=0,g=a.length+d.length;g>f;f++)if(f<a.length)c[f]=a[f];else{var h=d[f-a.length];"PICTURE"!==h.parentNode.nodeName&&null!==h.getAttribute("srcset")&&c.push(h)}return c},e.getMatch=function(a){for(var b,c=a.getElementsByTagName("source"),d=0,f=c.length;f>d;d++){var g=c[d],h=g.getAttribute("media");if(g.hasAttribute("srcset")&&(!h||e.matchesMedia(h))){var i=e.verifyTypeSupport(g);if(i===!0){b=g;break}if("pending"===i)return!1}}return b},d(),c._=e,"object"==typeof module&&"object"==typeof module.exports?module.exports=c:"object"==typeof define&&define.amd?define(function(){return c}):"object"==typeof a&&(a.picturefill=c)}}(this,this.document);